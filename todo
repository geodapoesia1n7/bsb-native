save command lines

short-term ideas:
- magic $in/$out variables shouldn't be magic, they're just a shortcut
  for specifying commands like
    rule frob
      command = frob $manual_inputs
    build foo: frob
      manual_inputs = a b c

longer-term ideas:

- use lemon/ragel for parsing

- buffer stderr from commands, only print failing commands/output

- progress bar rather than printing commands in series

- store historical timing info, allowing etas on builds
