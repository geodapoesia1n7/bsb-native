<!doctype html>
<html>
<head>

          <link rel="stylesheet" href="../api_static/tomorrow-night.css">

          <link rel="stylesheet" href="../api_static/style.css" type="text/css">

          <script src="../api_static//highlight.pack.js"></script>

          <script>hljs.initHighlightingOnLoad();</script><meta charset="utf-8">
<link rel="Start" href="index.html">
<link rel="previous" href="Js_primitive.html">
<link rel="next" href="Js_string.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Block" rel="Chapter" href="Block.html">
<link title="Bs" rel="Chapter" href="Bs.html">
<link title="Bs_dyn" rel="Chapter" href="Bs_dyn.html">
<link title="Bs_dyn_lib" rel="Chapter" href="Bs_dyn_lib.html">
<link title="Bs_obj" rel="Chapter" href="Bs_obj.html">
<link title="Bs_string" rel="Chapter" href="Bs_string.html">
<link title="Caml_array" rel="Chapter" href="Caml_array.html">
<link title="Caml_backtrace" rel="Chapter" href="Caml_backtrace.html">
<link title="Caml_basic" rel="Chapter" href="Caml_basic.html">
<link title="Caml_builtin_exceptions" rel="Chapter" href="Caml_builtin_exceptions.html">
<link title="Caml_bytes" rel="Chapter" href="Caml_bytes.html">
<link title="Caml_exceptions" rel="Chapter" href="Caml_exceptions.html">
<link title="Caml_float" rel="Chapter" href="Caml_float.html">
<link title="Caml_format" rel="Chapter" href="Caml_format.html">
<link title="Caml_gc" rel="Chapter" href="Caml_gc.html">
<link title="Caml_hash" rel="Chapter" href="Caml_hash.html">
<link title="Caml_int32" rel="Chapter" href="Caml_int32.html">
<link title="Caml_int64" rel="Chapter" href="Caml_int64.html">
<link title="Caml_io" rel="Chapter" href="Caml_io.html">
<link title="Caml_lexer" rel="Chapter" href="Caml_lexer.html">
<link title="Caml_md5" rel="Chapter" href="Caml_md5.html">
<link title="Caml_module" rel="Chapter" href="Caml_module.html">
<link title="Caml_obj" rel="Chapter" href="Caml_obj.html">
<link title="Caml_oo" rel="Chapter" href="Caml_oo.html">
<link title="Caml_oo_curry" rel="Chapter" href="Caml_oo_curry.html">
<link title="Caml_parser" rel="Chapter" href="Caml_parser.html">
<link title="Caml_primitive" rel="Chapter" href="Caml_primitive.html">
<link title="Caml_queue" rel="Chapter" href="Caml_queue.html">
<link title="Caml_string" rel="Chapter" href="Caml_string.html">
<link title="Caml_sys" rel="Chapter" href="Caml_sys.html">
<link title="Caml_utils" rel="Chapter" href="Caml_utils.html">
<link title="Caml_weak" rel="Chapter" href="Caml_weak.html">
<link title="Curry" rel="Chapter" href="Curry.html">
<link title="Js" rel="Chapter" href="Js.html">
<link title="Js_array" rel="Chapter" href="Js_array.html">
<link title="Js_boolean" rel="Chapter" href="Js_boolean.html">
<link title="Js_cast" rel="Chapter" href="Js_cast.html">
<link title="Js_date" rel="Chapter" href="Js_date.html">
<link title="Js_dict" rel="Chapter" href="Js_dict.html">
<link title="Js_float" rel="Chapter" href="Js_float.html">
<link title="Js_global" rel="Chapter" href="Js_global.html">
<link title="Js_int" rel="Chapter" href="Js_int.html">
<link title="Js_int64" rel="Chapter" href="Js_int64.html">
<link title="Js_json" rel="Chapter" href="Js_json.html">
<link title="Js_math" rel="Chapter" href="Js_math.html">
<link title="Js_nativeint" rel="Chapter" href="Js_nativeint.html">
<link title="Js_null" rel="Chapter" href="Js_null.html">
<link title="Js_null_undefined" rel="Chapter" href="Js_null_undefined.html">
<link title="Js_obj" rel="Chapter" href="Js_obj.html">
<link title="Js_primitive" rel="Chapter" href="Js_primitive.html">
<link title="Js_re" rel="Chapter" href="Js_re.html">
<link title="Js_string" rel="Chapter" href="Js_string.html">
<link title="Js_typed_array" rel="Chapter" href="Js_typed_array.html">
<link title="Js_types" rel="Chapter" href="Js_types.html">
<link title="Js_undefined" rel="Chapter" href="Js_undefined.html">
<link title="Js_unsafe" rel="Chapter" href="Js_unsafe.html">
<link title="Node" rel="Chapter" href="Node.html">
<link title="Node_buffer" rel="Chapter" href="Node_buffer.html">
<link title="Node_child_process" rel="Chapter" href="Node_child_process.html">
<link title="Node_fs" rel="Chapter" href="Node_fs.html">
<link title="Node_module" rel="Chapter" href="Node_module.html">
<link title="Node_path" rel="Chapter" href="Node_path.html">
<link title="Node_process" rel="Chapter" href="Node_process.html"><title>Js_re</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Js_primitive.html" title="Js_primitive">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Js_string.html" title="Js_string">Next</a>
</div>
<h1>Module <a href="type_Js_re.html">Js_re</a></h1>

<pre><span class="keyword">module</span> Js_re: <code class="code">sig</code> <a href="Js_re.html">..</a> <code class="code">end</code></pre><div class="info module top">
<div class="not-examples">
Provides bindings for JavaScript Regular Expressions
<p>

<h4 id="4_Syntaxsugar">Syntax sugar</h4>
BuckleScript provides a bit of syntax sugar for regex literals: <code class="code">[%re "/foo/g"]</code>
will evaluate to a <a href="Js_re.html#TYPEt"><code class="code">Js_re.t</code></a> that can be passed around and used like usual.
<p>

<b>Note:</b> This is not an immutable API. A RegExp object with the <code class="code">global</code> ("g")
flag set will modify the <a href="Js_re.html#VALlastIndex"><code class="code">Js_re.lastIndex</code></a> property when the RegExp object is used,
and subsequent uses will ocntinue the search from the previous <a href="Js_re.html#VALlastIndex"><code class="code">Js_re.lastIndex</code></a>.<br>
<div class="tag"><b>See also</b><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">JavaScript API reference on MDN</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">JavaScript Regular Expressions Guide on MDN</a></li>
</ul>
</div></div>
<div class="examples">
<pre class="example"><pre class="codepre"><code class="code">let maybeMatches = "banana" |&gt; Js.String.match_ [[%re "/na+/g"]]
</code></pre></pre></div>
</div>
<hr width="100%">
<div class="type-declaration">
<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>
</div>
<div class="info ">
<div class="not-examples">
the RegExp object<br>
</div>
<div class="examples">
</div>
</div>

<div class="type-declaration">
<pre><span id="TYPEresult"><span class="keyword">type</span> <code class="type"></code>result</span> </pre>
</div>
<div class="info ">
<div class="not-examples">
the result of a executing a RegExp on a string<br>
</div>
<div class="examples">
</div>
</div>


<pre><span id="VALmatches"><span class="keyword">val</span> matches</span> : <code class="type"><a href="Js_re.html#TYPEresult">result</a> -> string array</code></pre><div class="info ">
<div class="not-examples">
an array of the matches, the first is the full match and the remaining are the substring matches<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALindex"><span class="keyword">val</span> index</span> : <code class="type"><a href="Js_re.html#TYPEresult">result</a> -> int</code></pre><div class="info ">
<div class="not-examples">
0-based index of the match in the input string<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALinput"><span class="keyword">val</span> input</span> : <code class="type"><a href="Js_re.html#TYPEresult">result</a> -> string</code></pre><div class="info ">
<div class="not-examples">
the original input string<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALfromString"><span class="keyword">val</span> fromString</span> : <code class="type">string -> <a href="Js_re.html#TYPEt">t</a></code></pre><div class="info ">
<div class="not-examples">
Constructs a RegExp object (<a href="Js_re.html#TYPEt"><code class="code">Js_re.t</code></a>) from a string
<p>

Regex literals (<code class="code">[%re "/.../"]</code>) should generally be preferred, but
<code class="code">fromString</code> is very useful when you need to insert a string into a regex.<br>
</div>
<div class="examples">
<pre class="example"><pre class="codepre"><code class="code">(* A function that extracts the content of the first element with the given tag *)

let contentOf tag xmlString =
  Js.Re.fromString ("&lt;" ^ tag ^ "&gt;(.|\n)*?&lt;\/" ^ tag ^"&gt;")
    |&gt; Js.Re.exec xmlString
    |&gt; function
      | Some result =&gt; Some (Js.Re.matches result).(1)
      | None -&gt; None
</code></pre></pre></div>
</div>

<pre><span id="VALfromStringWithFlags"><span class="keyword">val</span> fromStringWithFlags</span> : <code class="type">string -> flags:string -> <a href="Js_re.html#TYPEt">t</a></code></pre><div class="info ">
<div class="not-examples">
Constructs a RegExp object (<a href="Js_re.html#TYPEt"><code class="code">Js_re.t</code></a>) from a string with the given <code class="code">flags</code>
<p>

See <a href="Js_re.html#VALfromString"><code class="code">Js_re.fromString</code></a>
<p>

Valid flags:
<table>
  <tr> <td>g <td>global
  <tr> <td>i <td>ignore case
  <tr> <td>m <td>multiline
  <tr> <td>u <td>unicode <td>(es2015)
  <tr> <td>y <td>sticky <td>(es2015)
</table>
<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALflags"><span class="keyword">val</span> flags</span> : <code class="type"><a href="Js_re.html#TYPEt">t</a> -> string</code></pre><div class="info ">
<div class="not-examples">
returns the enabled flags as a string<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALglobal"><span class="keyword">val</span> global</span> : <code class="type"><a href="Js_re.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="not-examples">
returns a bool indicating whether the <code class="code">global</code> flag is set<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALignoreCase"><span class="keyword">val</span> ignoreCase</span> : <code class="type"><a href="Js_re.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="not-examples">
returns a bool indicating whether the <code class="code">ignoreCase</code> flag is set<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALlastIndex"><span class="keyword">val</span> lastIndex</span> : <code class="type"><a href="Js_re.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="not-examples">
returns the index where the next match will start its search
<p>

This property will be modified when the RegExp object is used, if the <code class="code">global</code> ("g")
flag is set.<br>
<div class="tag"><b>See also</b> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/lastIndex">MDN</a><br>
</div></div>
<div class="examples">
<pre class="example"><pre class="codepre"><code class="code">(* Finds and prints successive matches *)

let re = [%re "/ab*/g"] in
let str = "abbcdefabh" in

let break = ref false in
while not !break do
  match re |&gt; Js.Re.exec str with
  | None -&gt; break := false
  | Some result -&gt;
    let match_ = (Js.Re.matches result).(0) in
    let next = string_of_int (Js.Re.lastIndex re) in
    Js.log ("Found " ^ match_ ^ ". Next match starts at " ^ next)
done
</code></pre></pre></div>
</div>

<pre><span id="VALmultiline"><span class="keyword">val</span> multiline</span> : <code class="type"><a href="Js_re.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="not-examples">
returns a bool indicating whether the <code class="code">multiline</code> flag is set<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALsource"><span class="keyword">val</span> source</span> : <code class="type"><a href="Js_re.html#TYPEt">t</a> -> string</code></pre><div class="info ">
<div class="not-examples">
returns the pattern as a string<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALsticky"><span class="keyword">val</span> sticky</span> : <code class="type"><a href="Js_re.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="not-examples">
returns a bool indicating whether the <code class="code">sticky</code> flag is set<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALunicode"><span class="keyword">val</span> unicode</span> : <code class="type"><a href="Js_re.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="not-examples">
returns a bool indicating whether the <code class="code">unicode</code> flag is set<br>
</div>
<div class="examples">
</div>
</div>

<pre><span id="VALexec"><span class="keyword">val</span> exec</span> : <code class="type">string -> <a href="Js_re.html#TYPEt">t</a> -> <a href="Js_re.html#TYPEresult">result</a> option</code></pre><div class="info ">
<div class="not-examples">
executes a search on a given string using the given RegExp object
<p>

<b>returns</b> <code class="code">Some</code> <a href="Js_re.html#TYPEresult"><code class="code">Js_re.result</code></a> if a match is found, <code class="code">None</code> otherwise<br>
<div class="tag"><b>See also</b> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec">MDN</a><br>
</div></div>
<div class="examples">
<pre class="example"><pre class="codepre"><code class="code">(* Match "quick brown" followed by "jumps", ignoring characters in between
 * Remember "brown" and "jumps"
 * Ignore case
 *)

let re = [%re "/quick\s(brown).+?(jumps)/ig" in
let result = re |&gt; Js.Re.exec "The Quick Brown Fox Jumps Over The Lazy Dog"
</code></pre></pre></div>
</div>

<pre><span id="VALtest"><span class="keyword">val</span> test</span> : <code class="type">string -> <a href="Js_re.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="not-examples">
tests whether the given RegExp object will match a given string
<p>

<b>returns</b> <code class="code">true</code> if a match is found, <code class="code">false</code> otherwise<br>
<div class="tag"><b>See also</b> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test">MDN</a><br>
</div></div>
<div class="examples">
<pre class="example"><pre class="codepre"><code class="code">(* A simple implementation of Js.String.startsWith *)

let str = "hello world!"

let startsWith substring target =
  Js.Re.fromString ("^" ^ substring)
    |&gt; Js.Re.test target

let () = Js.log (str |&gt; startsWith "hello") (* prints "true" *)
</code></pre></pre></div>
</div>
</body></html>